<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Family Merit/Demerit Scoreboard</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
  table { margin: 0 auto; border-collapse: collapse; }
  th, td { padding: 10px 20px; border: 1px solid #333; }
  button { padding: 5px 10px; margin: 0 5px; }
</style>
</head>
<body>
<h1>Family Merit/Demerit Scoreboard</h1>

<table id="scoreboard">
  <tr>
    <th>Name</th>
    <th>Score</th>
    <th>Actions</th>
  </tr>
  <tr>
    <td>Luke</td>
    <td>0</td>
    <td>
      <button onclick="updateScore(this,1)">+1</button>
      <button onclick="updateScore(this,-1)">-1</button>
    </td>
  </tr>
  <tr>
    <td>Stephen</td>
    <td>0</td>
    <td>
      <button onclick="updateScore(this,1)">+1</button>
      <button onclick="updateScore(this,-1)">-1</button>
    </td>
  </tr>
  <tr>
    <td>Dad</td>
    <td>0</td>
    <td>
      <button onclick="updateScore(this,1)">+1</button>
      <button onclick="updateScore(this,-1)">-1</button>
    </td>
  </tr>
  <tr>
    <td>Mom</td>
    <td>0</td>
    <td>
      <button onclick="updateScore(this,1)">+1</button>
      <button onclick="updateScore(this,-1)">-1</button>
    </td>
  </tr>
</table>

<script>
// Helper function to safely get/set scores in localStorage
function getScore(name) {
  let score = localStorage.getItem(name);
  return score !== null ? parseInt(score) : 0;
}

function setScore(name, value) {
  localStorage.setItem(name, value);
}

// Initialize scores on page load
document.addEventListener("DOMContentLoaded", () => {
  const rows = document.querySelectorAll("#scoreboard tr");
  rows.forEach((row,index) => {
    if(index===0) return; // skip header
    const name = row.cells[0].textContent;
    row.cells[1].textContent = getScore(name);
  });
});

// Update score function for +1/-1 buttons
function updateScore(button, change) {
  const row = button.parentElement.parentElement;
  const name = row.cells[0].textContent;
  let score = getScore(name);
  score += change;
  row.cells[1].textContent = score;
  setScore(name, score);
}
</script>
</body>
</html>
